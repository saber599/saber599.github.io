<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo Theme Keep"><meta name="description" content="Hexo Theme Keep"><meta name="author" content="saber599"><title>jvm参数调优实战 | Saber</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/saber599/image@main/blog/Fate_Zero - Saber by tseon on DeviantArt.6iv4bhancmo0.png"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/css/font-awesome.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"saber599.github.io",root:"/",language:"zh-CN",path:"search.json"},KEEP.theme_config={toc:{enable:!0,number:!1,expand_all:!1,init_open:!1},style:{primary_color:"#0066CC",avatar:"https://cdn.jsdelivr.net/gh/saber599/image@main/blog/saber.5n8z30d8b9g0.jpg",favicon:"https://cdn.jsdelivr.net/gh/saber599/image@main/blog/Fate_Zero - Saber by tseon on DeviantArt.6iv4bhancmo0.png",article_img_align:"left",left_side_width:"260px",content_max_width:"920px",hover:{shadow:!0,scale:!0},first_screen:{enable:!0,background_img:"/images/bg.svg",description:"Good good study, day day up."},scroll:{progress_bar:{enable:!0},percent:{enable:!0}}},local_search:{enable:!0,preload:!0},code_copy:{enable:!0,style:"default"},pjax:{enable:!0},lazyload:{enable:!1},version:"3.4.2"},KEEP.language_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 月前",year:"%s 年前"}</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <span class="pjax-progress-icon"><i class="fas fa-circle-notch fa-spin"></i></span></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-title" href="/">Saber</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">首页</a></li><li class="menu-item"><a href="/archives">归档</a></li><li class="menu-item"><a href="/about">关于</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">首页</a></li><li class="drawer-menu-item flex-center"><a href="/archives">归档</a></li><li class="drawer-menu-item flex-center"><a href="/about">关于</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">jvm参数调优实战</span></div><div class="article-header"><div class="avatar"><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/blog/saber.5n8z30d8b9g0.jpg"></div><div class="info"><div class="author"><span class="name">saber599</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fas fa-edit"></i>&nbsp;2021-04-20 20:12:30 </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/Jvm/">Jvm</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/%E5%AE%9E%E6%88%98/">实战</a>&nbsp;</li><li>| <a href="/tags/gc/">gc</a>&nbsp;</li><li>| <a href="/tags/gceasy/">gceasy</a>&nbsp;</li></ul></span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body"><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>线上有个用于对接第三方电商平台接口的duubo服务，公司内部系统需要调用第三方平台接口时不用去关心平台接口，只需要调用该服务接口即可。该服务上线后一直没有关注其gc情况，最近得空，看下是否有优化空间。</p><h3 id="现状"><a href="#现状" class="headerlink" title="现状"></a>现状</h3><p>在启动参数上加上打印gc日志参数，使用<a class="link" target="_blank" rel="noopener" href="https://gceasy.io/">gceasy<i class="fas fa-external-link-alt"></i></a>进行gc日志分析。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><p>堆内存gc曲线图如下：<br><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.3a6jp0x5om80.png" alt="image"></p><center>图1-1</center><br><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.44xyzdmweri0.png" alt="image"></p><center>图1-2</center><br><p>通过上面两张图可以看出该服务进行FullGc次数较多，并且在进行FullGc前，老年代急剧上升，这肯定是需要进行优化的。</p><p>该服务有四个节点，起始jvm参数如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1024m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=8 -XX:-OmitStackTraceInFastThrow</span><br></pre></td></tr></table></figure><h3 id="为什么老年代急剧上升"><a href="#为什么老年代急剧上升" class="headerlink" title="为什么老年代急剧上升"></a>为什么老年代急剧上升</h3><p>晋升老年代方式的方式有：</p><ol><li>大对象直接进入老年代</li><li>长期存活的对象进入老年代</li><li>动态对象年龄判定</li><li>空间分配担保</li></ol><p>由于jdk8默认收集器Parallel Scavenge不会出现大对象直接分配到老年代情况故而从下面两种情况分析；在默认参数下，长期存活的对象需要进入老年代需要经历15次MinorGc，在没有长时间驻留线程下，不会出现经历15次MinorGc后大量年轻代对象进入到老年代；故而初步判定老年代急剧上升的原因可能有两种：</p><ol><li>在大量调用下，又由于Survivor区较小，在动态对象年龄判定时，很容易满足相同年龄对象内存和大于Survivor区内存一半，提前晋升老年代</li><li>在大量调用下，又由于Survivor区较小，Eden区早早的被充满进行MinorGc，但由于存活对象Survivor区放不下，提前晋升老年代</li></ol><h3 id="调整"><a href="#调整" class="headerlink" title="调整"></a>调整</h3><p>根据初步分析原因可两方面进行参数调整，增加新生代内存 or 增加Survivor区内存<br><br>由于该服务有四个节点，在负载均衡的前提下，可大致认为四个节点环境相同，对四个节点的参数进行不同的调整，进行比较。</p><p>节点A：原始配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1024m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=8 -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><p>节点B：调整新生代内存为1.5G</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1536m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=8 -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><p>节点C：调整SurvivorRatio为6</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1024m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=6 -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><p>节点D：调整新生代内存为1.5G &amp; 调整SurvivorRatio为6</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1536m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=6 -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><h3 id="结果分析"><a href="#结果分析" class="headerlink" title="结果分析"></a>结果分析</h3><p>四个节点运行25h后GC相关图表</p><center>GC Pause Statistics</center><table><thead><tr><th>\</th><th>Young</th><th>Survivor</th><th>总次数</th><th>总时长</th><th>平均时长</th><th>最小时长</th><th>最大时长</th></tr></thead><tbody><tr><td>节点A</td><td>1 gb</td><td>102.4 mb</td><td>1885</td><td>3 min 26 sec 831 ms</td><td>110 ms</td><td>20.0 ms</td><td>2 sec 130 ms</td></tr><tr><td>节点B</td><td>1.5 gb</td><td>153.6 mb</td><td>1335</td><td>2 min 37 sec 850 ms</td><td>118 ms</td><td>20.0 ms</td><td>1 sec 420 ms</td></tr><tr><td>节点C</td><td>1 gb</td><td>204.8 mb</td><td>2029</td><td>3 min 6 sec 250 ms</td><td>91.8 ms</td><td>10.0 ms</td><td>2 sec 200 ms</td></tr><tr><td>节点D</td><td>1.5 gb</td><td>307.2 mb</td><td>1437</td><td>2 min 37 sec 850 ms</td><td>110 ms</td><td>20.0 ms</td><td>290 ms</td></tr></tbody></table><center>Minor GC stats</center><table><thead><tr><th>\</th><th>Young</th><th>Survivor</th><th>总次数</th><th>总时长</th><th>平均时长</th><th>最小时长</th><th>最大时长</th></tr></thead><tbody><tr><td>节点A</td><td>1 gb</td><td>102.4 mb</td><td>1870</td><td>3 min 8 sec 870 ms</td><td>101 ms</td><td>20.0 ms</td><td>230 ms</td></tr><tr><td>节点B</td><td>1.5 gb</td><td>153.6 mb</td><td>1330</td><td>2 min 34 sec 680 ms</td><td>116 ms</td><td>20.0 ms</td><td>250 ms</td></tr><tr><td>节点C</td><td>1 gb</td><td>204.8 mb</td><td>2023</td><td>3 min 100 ms</td><td>89.0 ms</td><td>10.0 ms</td><td>220 ms</td></tr><tr><td>节点D</td><td>1.5 gb</td><td>307.2 mb</td><td>1434</td><td>2 min 37 sec 380 ms</td><td>110 ms</td><td>20.0 ms</td><td>290 ms</td></tr></tbody></table><center>Full GC stats</center><table><thead><tr><th>\</th><th>Young</th><th>Survivor</th><th>总次数</th><th>总时长</th><th>平均时长</th><th>最小时长</th><th>最大时长</th></tr></thead><tbody><tr><td>节点A</td><td>1 gb</td><td>102.4 mb</td><td>15</td><td>17 sec 960 ms</td><td>1 sec 197 ms</td><td>100 ms</td><td>2 sec 130 ms</td></tr><tr><td>节点B</td><td>1.5 gb</td><td>153.6 mb</td><td>5</td><td>3 sec 170 ms</td><td>634 ms</td><td>70.0 ms</td><td>1 sec 420 ms</td></tr><tr><td>节点C</td><td>1 gb</td><td>204.8 mb</td><td>6</td><td>6 sec 150 ms</td><td>1 sec 25 ms</td><td>70.0 ms</td><td>2 sec 200 ms</td></tr><tr><td>节点D</td><td>1.5 gb</td><td>307.2 mb</td><td>3</td><td>470 ms</td><td>157 ms</td><td>90.0 ms</td><td>260 ms</td></tr></tbody></table><p>堆内存GC前数据：</p><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.3a6jp0x5om80.png" alt="image"></p><center>图A1</center><br><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.3br5wegj1i40.png" alt="image"></p><center>图B1</center><br><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.3da0at4tztk0.png" alt="image"></p><center>图C1</center><br><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.1qiibxponk1s.png" alt="image"></p><center>图D1</center><br><p>老年代晋升数据：</p><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.44xyzdmweri0.png" alt="image"></p><center>图A2</center><br><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.5sx396ysj5c0.png" alt="image"></p><center>图B2</center><br><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.2j6etx2ktco0.png" alt="image"></p><center>图C2</center><br><p><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.4jw9vox8vmk0.png" alt="image"></p><center>图D2</center><br><p>从图B2及图C2中可以看到在正常情况下，晋升老年代的数量是非常小的，在7日下午13:43-14:05期间，老年代迅速增长（图B1,图C1）中也可以看出，其原因确实是这段时间产生了大量调用，通过线上日志也可以看出<br><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.4rbenuv5crc0.png" alt="image"><br><img src="https://cdn.jsdelivr.net/gh/saber599/image@main/jvm%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98/image.61hh9oc2jm40.png" alt="image"></p><p>从上述图表可以看出：</p><ol><li>新生代调整为1.5G或调整SurvivorRatio为6都能满足服务日常运行，一旦出现大量调用则还是会发生老年代迅速增长情况，但是比原始配置好得多。</li><li>从图D2中可以看出，在Survivor区大小为307.2 Mb左右能避免老年代迅速增长</li><li>单独看MinorGc，新生代调整1.5g后虽然平均gc时长增加了一点，但是gc次数及gc总时长减少了不少</li><li>单独看MinorGc，新生代同为1.5G下，SurvivorRatio为6时,虽然gc次数及gc总时长多了那么一点点，但是除了启动应用是进行了3次FullGc，后面都没有出现过FullGc，即使大量调用是晋升老年代也很平滑</li></ol><h3 id="再次调整"><a href="#再次调整" class="headerlink" title="再次调整"></a>再次调整</h3><p>从上述结论看出，新生代增加到1.5G对有不少的提升。</p><p>在新生代都加到1.5G前提下，进一步减少动态对象年龄判定晋升老年代数量，将Survivor区使用率调整至307.2 Mb/2=153.6Mb左右(TargetSurvivorRatio默认为50，可用jinfo -flag 查看)</p><p>节点A：原始配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1024m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=8 -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><p>节点B：调整TargetSurvivorRatio为80</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1536m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=8 -XX:TargetSurvivorRatio=80 -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><p>节点C：调整为自适应调节</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn1536m -XX:+UseAdaptiveSizePolicy  -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure><p>节点D：调整新生代内存为2G &amp; TargetSurvivorRatio为80</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xms4096m -Xmx4096m -Xmn2048m -XX:-UseAdaptiveSizePolicy -XX:SurvivorRatio=8  -XX:TargetSurvivorRatio=80 -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:./gc.log</span><br></pre></td></tr></table></figure></div><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/2021/08/23/Hystrix%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0/"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">hystrix配置参数</span> <span class="post-nav-item">上一篇</span></span></a></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2021</span>&nbsp;-&nbsp; 2024&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">saber599</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item"><span id="busuanzi_container_site_uv">访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; </span><span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item page-aside-toggle"><i class="fas fa-outdent"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-expand-width flex-center"><i class="fas fa-arrows-alt-h"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><aside class="page-aside"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%83%8C%E6%99%AF"><span class="nav-text">背景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%B0%E7%8A%B6"><span class="nav-text">现状</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%80%81%E5%B9%B4%E4%BB%A3%E6%80%A5%E5%89%A7%E4%B8%8A%E5%8D%87"><span class="nav-text">为什么老年代急剧上升</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E6%95%B4"><span class="nav-text">调整</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90"><span class="nav-text">结果分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%8D%E6%AC%A1%E8%B0%83%E6%95%B4"><span class="nav-text">再次调整</span></a></li></ol></div></div></aside><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/dark-light-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/local-search.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/code-copy.js"></script><div class="post-scripts pjax"><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/toc.js"></script></div><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.2/source/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1});document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),e.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.refresh()})})</script></body></html>